#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>

#define FLAG_PATH "flag"
#define FLAG_SIZE 200

#define BROJ_MAX 100

#define ZRAKOPLOV_CIJENA 310
#define AUTOBUS_CIJENA 150
#define TRAMVAJ_CIJENA 10
#define TRAMVAJ_MAX_CIJENA 100
#define BUDZET 550

void ispisi_rjesenje()
{
	FILE *file;
	char flag[FLAG_SIZE];

	file = fopen(FLAG_PATH, "r");

	fgets(flag, sizeof flag, file);

	fclose(file);

	printf("%s\r\n", flag);
}

int provjeri_parametre(unsigned long long int zrakoplov, unsigned long long int autobus, unsigned long long int tramvaj) {
	if (zrakoplov * ZRAKOPLOV_CIJENA == ZRAKOPLOV_CIJENA) {
		puts("Za kupnju avionske karte potrebne su barem dvije osobe!\r");
		return 0;
	}
	
	if (autobus * AUTOBUS_CIJENA == AUTOBUS_CIJENA) {
		puts("Za kupnju autobusne karte potrebne su barem dvije osobe!\r");
		return 0;
	}
	
	if (tramvaj * TRAMVAJ_CIJENA > TRAMVAJ_MAX_CIJENA) {
		puts("Premašen kapacitet tramvaja!\r");
		return 0;
	}
	
	if(zrakoplov < 0 || autobus < 0 || tramvaj < 0) {
		puts("Neispravan unos osoba!\r");
	}
	
	if (zrakoplov * ZRAKOPLOV_CIJENA + autobus * AUTOBUS_CIJENA + tramvaj * TRAMVAJ_CIJENA < BUDZET) {
		puts("Cijena ne premašuje budžet - unesite više osoba!\r");
		return 0;
	}

	if ((zrakoplov * ZRAKOPLOV_CIJENA + autobus * AUTOBUS_CIJENA + tramvaj * TRAMVAJ_CIJENA) > BUDZET) {
		puts("Cijena premašuje budžet!\r");
		return 0;
	}

	return 1;
}

int main()
{
	unsigned long long int zrakoplov, autobus, tramvaj;

	puts("---=== Kalkulator troškova prijevoza v1.0 ===---\r");
	puts("1) Unesite broj osoba koje putuju zrakoplovom:\r");
	fflush(stdout);

	scanf("%llu", &zrakoplov);
	
	puts("2) Unesite broj osoba koje putuju autobusom:\r");
	fflush(stdout);

	scanf("%llu", &autobus);
	
	puts("3) Unesite broj osoba koje putuju tramvajem:\r");
	fflush(stdout);

	scanf("%llu", &tramvaj);


	printf("Računam troškove prijevoza za parametre Zrakoplov%luAutobus%luTramvaj%lu...\r\n", zrakoplov, autobus, tramvaj);
	if (provjeri_parametre(zrakoplov, autobus, tramvaj)) {
		puts("Prijevoz uspješno organiziran!\r");
		ispisi_rjesenje();
	}

	fflush(stdout);
	getchar();

	return 0;
}